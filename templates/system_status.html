<!-- ======================================================
     EURO_GOALS v9.2.1 – System Status Panel
     Προστέθηκε GoalMatrix Engine status
     ====================================================== -->

<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>System Status – EURO_GOALS v9.2.1</title>
    <link rel="stylesheet" href="/static/styles.css">
</head>

<body>
    <header>
        <h1>⚙️ EURO_GOALS v9.2.1 – System Status Panel</h1>
        <p>Παρακολούθηση όλων των κύριων υπηρεσιών & δεδομένων</p>
    </header>

    <main>
        <div class="status-grid">
            <div class="status-card">Database<br><span id="db">--</span></div>
            <div class="status-card">Render Health<br><span id="render">--</span></div>
            <div class="status-card">FootballData API<br><span id="footballdata">--</span></div>
            <div class="status-card">SportMonks API<br><span id="sportmonks">--</span></div>
            <div class="status-card">BeSoccer API<br><span id="besoccer">--</span></div>
            <div class="status-card">Smart Money Monitor<br><span id="smartmoney">--</span></div>
            <div class="status-card">GoalMatrix Engine<br><span id="goalmatrix">--</span></div>
        </div>

        <div class="timestamp">Τελευταία ενημέρωση: <span id="last_update">--</span></div>

        <div style="text-align:center; margin-top:20px;">
            <a class="button" href="/">🔙 Επιστροφή στην αρχική</a>
            <button class="link" onclick="manualRefresh()">🔄 Χειροκίνητη ανανέωση</button>
        </div>
    </main>

    <div id="loader"></div>

    <script>
        async function refreshStatus() {
            try {
                document.body.classList.add("loading");
                const res = await fetch("/system_status_data");
                const data = await res.json();
                document.getElementById("db").innerHTML = data.db;
                document.getElementById("render").innerHTML = data.render;
                document.getElementById("footballdata").innerHTML = data.footballdata;
                document.getElementById("sportmonks").innerHTML = data.sportmonks;
                document.getElementById("besoccer").innerHTML = data.besoccer;
                document.getElementById("smartmoney").innerHTML = data.smartmoney;
                document.getElementById("goalmatrix").innerHTML = data.goalmatrix;
                document.getElementById("last_update").innerHTML = data.last_update;
            } catch (err) {
                console.error("[STATUS ERROR]", err);
            } finally {
                document.body.classList.remove("loading");
            }
        }
        function manualRefresh() { refreshStatus(); }
        setInterval(refreshStatus, 30000);
        window.onload = refreshStatus;
    </script>

    <footer>
        EURO_GOALS v9.2.1 © 2025 | System Status & Dual Engine Monitor
    </footer>
</body>
</html>
